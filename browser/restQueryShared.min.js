(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.restQueryShared=e()}})(function(){var e,t,r;return function(){function f(s,o,a){function u(r,e){if(!o[r]){if(!s[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}var n=o[r]={exports:{}};s[r][0].call(n.exports,function(e){var t=s[r][1][e];return u(t||e)},n,n.exports,f,s,o,a)}return o[r].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}return f}()({1:[function(e,t,r){"use strict";t.exports={path:e("./path.js")}},{"./path.js":3}],2:[function(e,t,r){"use strict";const i={lowerCaseArray:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],upperCaseArray:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],digitArray:["0","1","2","3","4","5","6","7","8","9"],lowerCaseAndDigitArray:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],collectionRegExp:/^[A-Z][a-zA-Z0-9]*$/,methodRegExp:/^[A-Z][A-Z0-9-]*$/,propertyRegExp:/^(\.[a-zA-Z0-9_-]+)+$/,linkPropertyRegExp:/^~[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)*$/,multiLinkPropertyRegExp:/^~~[a-zA-Z0-9_-]+$/,idRegExp:/^[0-9a-f]{24}$/,rangeRegExp:/^([0-9]+)(?:-([0-9]+))?$/,slugIdRegExp:/^[a-z0-9-]{1,72}$/,unicodeSlugIdRegExp:/^[\p{Ll}\p{Lm}\p{Lo}\p{N}\p{M}-]{1,72}$/u,asciiMapCommon:{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"ss","œ":"oe","Œ":"OE","“":'"',"”":'"',"‘":"'","’":"'","…":"..."},asciiMapWorldAlpha:{"α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"u","ء":"e","آ":"a","أ":"a","ؤ":"w","إ":"i","ئ":"y","ا":"a","ب":"b","ة":"t","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"dh","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"d","ط":"t","ظ":"z","ع":"e","غ":"gh","ـ":"_","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","َ‎":"a","ُ":"u","ِ‎":"i","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","چ":"ch","ک":"k","گ":"g","پ":"p","ژ":"zh","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","ټ":"p","ځ":"z","څ":"c","ډ":"d","ﺫ":"d","ﺭ":"r","ړ":"r","ﺯ":"z","ږ":"g","ښ":"x","ګ":"g","ڼ":"n","ۀ":"e","ې":"e","ۍ":"ai","ٹ":"t","ڈ":"d","ڑ":"r","ں":"n","ہ":"h","ھ":"h","ے":"e"},asciiMapSymbolsEn:{"€":" euro","₢":" cruzeiro","₣":" french franc","£":" pound","₤":" lira","₥":" mill","₦":" naira","₧":" peseta","₨":" rupee","₩":" won","₪":" new shequel","₫":" dong","₭":" kip","₮":" tugrik","₯":" drachma","₰":" penny","₱":" peso","₲":" guarani","₳":" austral","₴":" hryvnia","₵":" cedi","¢":" cent","¥":" yen","元":" yuan","円":" yen","﷼":" rial","₠":" ecu","¤":" currency","฿":" baht","\\$":" dollar","©":" (c)","∑":" sum","®":" (r)","†":" +","∂":" d","ƒ":" f","™":" tm","℠":" sm","˚":" o","º":" o","ª":" a","•":" *","∆":" delta","∞":" infinity","♥":" love","&":" and","\\|":" or","<":" less",">":" greater"},asciiMapSymbolsFr:{"€":" euro","₢":" cruzeiro","₣":" franc","£":" livre","₤":" lire","₥":" mill","₦":" naira","₧":" peseta","₨":" rupee","₩":" won","₪":" new shequel","₫":" dong","₭":" kip","₮":" tugrik","₯":" drachma","₰":" penny","₱":" peso","₲":" guarani","₳":" austral","₴":" hryvnia","₵":" cedi","¢":" cent","¥":" yen","元":" yuan","円":" yen","﷼":" rial","₠":" ecu","¤":" monnaie","฿":" baht","\\$":" dollar","©":" (c)","∑":" sum","®":" (r)","†":" +","∂":" d","ƒ":" f","™":" tm","℠":" sm","˚":" o","º":" o","ª":" a","•":" *","∆":" delta","∞":" infini","♥":" aime","&":" et","\\|":" ou","<":" moins",">":" plus"}};t.exports=i},{}],3:[function(e,t,r){"use strict";const s=e("./charmap.js");const o=e("string-kit/lib/camel.js");const a=e("string-kit/lib/unicode.js");const u=e("tree-kit/lib/path.js");const h={};t.exports=h;function i(e){return e.value}function c(){return this.value}function f(){return this.match.toString()}function n(...e){if(!e.length){return"/"+this.map(i).join("/")}return"/"+Array.prototype.slice.call(this,...e).map(i).join("/")}function d(...e){return w(Array.prototype.slice.call(this,...e))}function l(){return this[this.length-1]}function p(){var e;e=this.path.toString()+(this.query||"");if(this.hash){e+="#"+this.hash.action;if(this.hash.path){e+=":"+this.hash.path.toString()}}return e}function w(e){e=e||[];Object.defineProperties(e,{toString:{value:n},slice:{value:d},last:{get:l}});return e}function y(e){e=e||{};Object.defineProperties(e,{toString:{value:p}});return e}function g(e){e=e||{};Object.defineProperties(e,{primaryPath:{get:function(){if(this.subPath){return this.subPath.before}return this.full}},hashPrimaryPath:{get:function(){if(!this.hash||!this.hash.path){return null}else if(this.hash.path.subPath){return this.hash.path.subPath.before}return this.hash.path.full}}});return e}h.parse=function(e,t){var r,i,n,s,o,a,u;if(Array.isArray(e)){return e}else if(typeof e!=="string"){throw new Error("[restQuery] .parse() 'path' should be a string")}o=w();e=e.replace(/\/+/,"/");s=e.split("/");try{for(r=0,n=0,i=s.length;r<i;r++){if(s[r]===""){continue}a=h.parseNode(s[r],t);if(n&&(a.type==="property"||a.type==="linkProperty")&&o[n-1].type==="property"){o[n-1].identifier+="."+a.identifier;o[n-1].type=a.type}else{o[n]=a;n++}}}catch(e){u=new Error("Bad URL: '"+s[r]+"' does not match any node type");u.type="badRequest";throw u}return o};h.parseNode=function(e,t){var r,i;if(e.length<1){throw new Error("[restQuery] parseNode() : argument #0 length should be >= 1")}if(e.length>144||e.length>72&&a.length(e)>72){throw new Error("[restQuery] parseNode() : argument #0 length should be <= 72")}var n={value:e,isDocument:false,isCollection:false};Object.defineProperties(n,{toString:{value:c}});if(t){if(e[0]==="{"&&e[e.length-1]==="}"){i=e.slice(1,-1).split(":");if(i[1]){n.matchName=i[1]}e=i[0];if(e[0]==="$"){n.type="context";n.contextPath=e=e.slice(1);return n}switch(e){case"*":n.type="wildcard";n.wildcard="any";break;case"...":n.type="wildcard";n.wildcard="anySubPath";break;case"id":n.type="wildcard";n.wildcard="anyId";n.isDocument=true;break;case"slugId":n.type="wildcard";n.wildcard="anySlugId";n.isDocument=true;break;case"document":n.type="wildcard";n.wildcard="anyDocument";n.isDocument=true;break;case"collection":n.type="wildcard";n.wildcard="anyCollection";n.isCollection=true;break;default:throw new Error("[restQuery] parseNode() -- bad node special type: "+e)}return n}i=e.split(":");if(i[1]){n.matchName=i[1]}e=i[0]}if(s.upperCaseArray.includes(e[0])){if(e.length===1){n.type="collection";n.identifier=e[0].toLowerCase()+e.slice(1);n.isCollection=true;return n}if(s.lowerCaseArray.includes(e[1])){if(e.match(s.collectionRegExp)){n.type="collection";n.identifier=e[0].toLowerCase()+e.slice(1);n.isCollection=true;return n}throw new Error("[restQuery] parseNode() : argument #0 start with an uppercase and then a lowercase letter but mismatch a collection type")}if(e.match(s.methodRegExp)){n.type="method";n.identifier=o.toCamelCase(e);return n}if(e.match(s.collectionRegExp)){n.type="collection";n.identifier=e[0].toLowerCase()+e.slice(1);n.isCollection=true;return n}throw new Error("[restQuery] parseNode() : argument #0 start with an uppercase but mismatch collection or method type")}if(e.length===24&&e.match(s.idRegExp)){n.type="id";n.identifier=e;n.isDocument=true;return n}if(e[0]==="."){if(!e.match(s.propertyRegExp)){throw new Error("[restQuery] parseNode() : argument #0 does not validate")}n.type="property";n.identifier=e.slice(1);n.isDocument=true;return n}if(e[0]==="~"){if(e[1]==="~"){if(!e.match(s.multiLinkPropertyRegExp)){throw new Error("[restQuery] parseNode() : argument #0 does not validate")}n.type="multiLinkProperty";n.identifier=e.slice(2);n.isCollection=true;return n}if(!e.match(s.linkPropertyRegExp)){throw new Error("[restQuery] parseNode() : argument #0 does not validate")}n.type="linkProperty";n.identifier=e.slice(1);n.isDocument=true;return n}if(s.digitArray.includes(e[0])&&(r=e.match(s.rangeRegExp))){if(r[2]){n.type="range";n.min=parseInt(r[1],10);n.max=parseInt(r[2],10);n.isCollection=true;return n}n.type="offset";n.identifier=parseInt(e,10);n.isDocument=true;return n}if(s.lowerCaseAndDigitArray.includes(e[0])&&e.match(s.slugIdRegExp)){n.type="slugId";n.unicode=false;n.identifier=e;n.isDocument=true;return n}if(e.match(s.unicodeSlugIdRegExp)){n.type="slugId";n.unicode=true;n.identifier=e;n.isDocument=true;return n}throw new Error("[restQuery] parseNode() : argument #0 does not validate")};function m(e){var t,r={};for(t in e){r[t]=e[t]}Object.defineProperties(r,{toString:{value:c}});return r}function b(e,t,r){if(!t[r]){t[r]=1}else if(t[r]===1){e[r+"1"]=e[r];delete e[r];t[r]=2;r+="2"}else{r+=++t[r]}return r}function P(e,t,r,i){i=b(e,r,i);e[i]=t;return t}function A(e,t,r,i,n,s){s=b(e,n,s);var o=Object.create(Object.prototype,{toString:{value:f}});o.match=t.slice(r,i+1);o.before=t.slice(0,r);o.after=t.slice(i+1);o.upto=t.slice(0,i+1);o.onward=t.slice(r);e[s]=o;return o}h.applyContext=function(e,t){var r,i,n,s=[];if(!Array.isArray(e)){e=h.parse(e,true)}for(r=0,i=e.length;r<i;r++){if(e[r].contextPath){n=u.get(t,e[r].contextPath);if(Array.isArray(n)){s=s.concat(n);continue}if(typeof n!=="string"){if(n&&typeof n==="object"&&n.toString){n=n.toString()}else{return false}}n=h.parse(n);if(!n){return false}s=s.concat(n)}else{s.push(e[r])}}return w(s)};h.match=function(e,t,r){try{if(!Array.isArray(e)){e=h.parse(e,true)}if(!Array.isArray(t)){t=h.parse(t)}}catch(e){return false}var i,n,s,o=null,a=0,u,c=null,f=g(),d=w(),l={};f.full=t;if(e.length===0){return t.length===0?f:false}if(r){e=h.applyContext(e,r,true);if(!e){return undefined}}for(i=0,n=e.length;i<n;i++){if(e[i].contextPath){throw new Error("[restQuery] .match() this pattern needs a context.")}if(e[i].wildcard==="anySubPath"){a++}}for(i=0,n=t.length;i<n;i++){d[i]=m(t[i])}if(a){if(a>1){console.log("Warning: multiple 'anySubPath' wildcards in the same pattern are not supported ATM");return false}u=t.length-e.length+1;if(u<0){return false}}else if(t.length!==e.length){return false}for(i=0,s=0,n=e.length;i<n;i++,s++){c=null;switch(e[i].wildcard){case"any":o=null;A(f,d,s,s,l,e[i].matchName||"wild");break;case"anySubPath":o=null;A(f,d,s,s+u-1,l,e[i].matchName||"subPath");s+=u-1;break;case"anyId":if(t[s].type!=="id"){return false}c=A(f,d,s,s,l,e[i].matchName||"wildId");break;case"anySlugId":if(t[s].type!=="slugId"){return false}c=A(f,d,s,s,l,e[i].matchName||"wildSlugId");break;case"anyDocument":if(t[s].type!=="id"&&t[s].type!=="slugId"){return false}c=A(f,d,s,s,l,e[i].matchName||"wildDocument");break;case"anyCollection":if(t[s].type!=="collection"){return false}o=e[i].matchName||"wildCollection";c=A(f,d,s,s,l,o);break;default:if(e[i].type!==t[s].type||e[i].identifier!==t[s].identifier){return false}if(e[i].isCollection){o=e[i].matchName||e[i].identifier;A(f,d,s,s,l,o)}}if(e[i].isDocument&&o&&t[s]){if(c){P(f,c,l,o+"Document")}else{A(f,d,s,s,l,o+"Document")}}if(!e[i].isCollection){o=null}}return f};h.fullPathParse=function(e,t){if(e&&typeof e==="object"){return e}var r,i=y();r=e.match(/^(\/[^#?]*)(?:\?([^#]+))?(?:#([^]+)?)?$/);if(!r){throw new Error("[restQuery] .fullPathParse() 'fullPath' should be a valid path")}i.path=h.parse(r[1],t);if(r[2]!==undefined){i.query=r[2]}if(r[3]!==undefined){i.hash=h.hashParse(r[3],t)}return i};h.hashParse=function(e,t){var r=e.indexOf(":");if(r===-1){return{action:e}}return{action:e.slice(0,r),path:h.parse(e.slice(r+1),t)}};h.fullPathMatch=function(e,t,r){var i,n;try{if(!e||typeof e!=="object"){e=h.fullPathParse(e,true)}if(!t||t!=="object"){t=h.fullPathParse(t)}}catch(e){return false}if(e.hash){if(e.hash.action!=="*"&&(!t.hash||e.hash.action!==t.hash.action)){return false}if(!e.hash.path!==!t.hash.path){return false}if(t.hash){n={action:t.hash.action}}if(e.hash.path){if(!t.hash){return false}n.path=h.match(e.hash.path,t.hash.path,r);if(!n){return n}}}i=h.match(e.path,t.path,r);if(!i){return i}if(n){i.hash=n}return i}},{"./charmap.js":2,"string-kit/lib/camel.js":4,"string-kit/lib/unicode.js":6,"tree-kit/lib/path.js":7}],4:[function(e,t,r){"use strict";var i={};t.exports=i;i.toCamelCase=function(e,s=false,o=false){if(!e||typeof e!=="string"){return""}return e.replace(/(?:^[\s_-]*|([\s_-]+))(([^\s_-]?)([^\s_-]*))/g,(e,t,r,i,n)=>{if(s){if(!t&&!o){return r}if(!i){return""}return i.toUpperCase()+n}if(!t&&!o){return r.toLowerCase()}if(!i){return""}return i.toUpperCase()+n.toLowerCase()})};i.camelCaseToSeparated=function(e,s=" ",t=true){if(!e||typeof e!=="string"){return""}if(!t){return e.replace(/^([A-Z])|([A-Z])/g,(e,t,r)=>{if(t){return t.toLowerCase()}return s+r.toLowerCase()})}return e.replace(/(?:(^)|)([A-Z]+)(?:($)|(?=[a-z]))/g,(e,t,r,i)=>{t=t==="";i=i==="";var n=t?"":s;return r.length===1?n+r.toLowerCase():i?n+r:r.length===2?n+r[0].toLowerCase()+s+r[1].toLowerCase():n+r.slice(0,-1)+s+r.slice(-1).toLowerCase()})};i.camelCaseToDash=i.camelCaseToDashed=e=>i.camelCaseToSeparated(e,"-",false)},{}],5:[function(e,t,r){t.exports=[{s:9728,e:9747,w:1},{s:9748,e:9749,w:2},{s:9750,e:9799,w:1},{s:9800,e:9811,w:2},{s:9812,e:9854,w:1},{s:9855,e:9855,w:2},{s:9856,e:9874,w:1},{s:9875,e:9875,w:2},{s:9876,e:9888,w:1},{s:9889,e:9889,w:2},{s:9890,e:9897,w:1},{s:9898,e:9899,w:2},{s:9900,e:9916,w:1},{s:9917,e:9918,w:2},{s:9919,e:9923,w:1},{s:9924,e:9925,w:2},{s:9926,e:9933,w:1},{s:9934,e:9934,w:2},{s:9935,e:9939,w:1},{s:9940,e:9940,w:2},{s:9941,e:9961,w:1},{s:9962,e:9962,w:2},{s:9963,e:9969,w:1},{s:9970,e:9971,w:2},{s:9972,e:9972,w:1},{s:9973,e:9973,w:2},{s:9974,e:9977,w:1},{s:9978,e:9978,w:2},{s:9979,e:9980,w:1},{s:9981,e:9981,w:2},{s:9982,e:9983,w:1},{s:9984,e:9988,w:1},{s:9989,e:9989,w:2},{s:9990,e:9993,w:1},{s:9994,e:9995,w:2},{s:9996,e:10023,w:1},{s:10024,e:10024,w:2},{s:10025,e:10059,w:1},{s:10060,e:10060,w:2},{s:10061,e:10061,w:1},{s:10062,e:10062,w:2},{s:10063,e:10066,w:1},{s:10067,e:10069,w:2},{s:10070,e:10070,w:1},{s:10071,e:10071,w:2},{s:10072,e:10132,w:1},{s:10133,e:10135,w:2},{s:10136,e:10159,w:1},{s:10160,e:10160,w:2},{s:10161,e:10174,w:1},{s:10175,e:10175,w:2},{s:126976,e:126979,w:1},{s:126980,e:126980,w:2},{s:126981,e:127182,w:1},{s:127183,e:127183,w:2},{s:127184,e:127373,w:1},{s:127374,e:127374,w:2},{s:127375,e:127376,w:1},{s:127377,e:127386,w:2},{s:127387,e:127487,w:1},{s:127744,e:127776,w:2},{s:127777,e:127788,w:1},{s:127789,e:127797,w:2},{s:127798,e:127798,w:1},{s:127799,e:127868,w:2},{s:127869,e:127869,w:1},{s:127870,e:127891,w:2},{s:127892,e:127903,w:1},{s:127904,e:127946,w:2},{s:127947,e:127950,w:1},{s:127951,e:127955,w:2},{s:127956,e:127967,w:1},{s:127968,e:127984,w:2},{s:127985,e:127987,w:1},{s:127988,e:127988,w:2},{s:127989,e:127991,w:1},{s:127992,e:127994,w:2},{s:128e3,e:128062,w:2},{s:128063,e:128063,w:1},{s:128064,e:128064,w:2},{s:128065,e:128065,w:1},{s:128066,e:128252,w:2},{s:128253,e:128254,w:1},{s:128255,e:128317,w:2},{s:128318,e:128330,w:1},{s:128331,e:128334,w:2},{s:128335,e:128335,w:1},{s:128336,e:128359,w:2},{s:128360,e:128377,w:1},{s:128378,e:128378,w:2},{s:128379,e:128404,w:1},{s:128405,e:128406,w:2},{s:128407,e:128419,w:1},{s:128420,e:128420,w:2},{s:128421,e:128506,w:1},{s:128507,e:128591,w:2},{s:128592,e:128639,w:1},{s:128640,e:128709,w:2},{s:128710,e:128715,w:1},{s:128716,e:128716,w:2},{s:128717,e:128719,w:1},{s:128720,e:128722,w:2},{s:128723,e:128724,w:1},{s:128725,e:128727,w:2},{s:128728,e:128746,w:1},{s:128747,e:128748,w:2},{s:128749,e:128755,w:1},{s:128756,e:128764,w:2},{s:128765,e:128991,w:1},{s:128992,e:129003,w:2},{s:129004,e:129291,w:1},{s:129292,e:129338,w:2},{s:129339,e:129339,w:1},{s:129340,e:129349,w:2},{s:129350,e:129350,w:1},{s:129351,e:129400,w:2},{s:129401,e:129401,w:1},{s:129402,e:129483,w:2},{s:129484,e:129484,w:1},{s:129485,e:129535,w:2},{s:129536,e:129647,w:1},{s:129648,e:129652,w:2},{s:129653,e:129655,w:1},{s:129656,e:129658,w:2},{s:129659,e:129663,w:1},{s:129664,e:129670,w:2},{s:129671,e:129679,w:1},{s:129680,e:129704,w:2},{s:129705,e:129711,w:1},{s:129712,e:129718,w:2},{s:129719,e:129727,w:1},{s:129728,e:129730,w:2},{s:129731,e:129743,w:1},{s:129744,e:129750,w:2},{s:129751,e:129791,w:1}]},{}],6:[function(t,e,r){"use strict";const f={};e.exports=f;f.encode=e=>String.fromCodePoint(...e);f.decode=e=>Array.from(e,e=>e.codePointAt(0));f.firstCodePoint=e=>e.codePointAt(0);f.firstChar=e=>e.length?String.fromCodePoint(e.codePointAt(0)):undefined;f.toArray=e=>Array.from(e);f.toCells=(e,t,r=4,i=0,...n)=>{var s,o,a,u,c=[];for(s of t){o=s.codePointAt(0);if(o===10){i=0}else if(o===9){a=r-i%r-1;c.push(new e("\t",1,...n));i+=1+a;while(a--){c.push(new e(" ",-2,...n))}}else{u=f.codePointWidth(o),c.push(new e(s,u,...n));i+=u;while(--u>0){c.push(new e(" ",-1,...n))}}}return c};f.fromCells=e=>{var t,r="";for(t of e){if(!t.filler){r+=t.char}}return r};f.length=e=>{var t,r=0;for(t of e){r++}return r};f.width=e=>{var t,r=0;for(t of e){r+=f.codePointWidth(t.codePointAt(0))}return r};f.arrayWidth=(e,t)=>{var r,i=0;if(t===undefined){t=e.length}for(r=0;r<t;r++){i+=f.isFullWidth(e[r])?2:1}return i};var s=0;f.getLastTruncateWidth=()=>s;f.widthLimit=f.truncateWidth=(e,t)=>{var r,i,n=0;s=0;for(r of e){i=f.codePointWidth(r.codePointAt(0));if(s+i>t){return e.slice(0,n)}s+=i;n+=r.length}return e};f.surrogatePair=e=>{var t=e.charCodeAt(0);if(t<55296||t>=57344){return 0}else if(t<56320){return 1}return-1};f.isFullWidth=e=>f.isFullWidthCodePoint(e.codePointAt(0));f.charWidth=e=>f.codePointWidth(e.codePointAt(0));const i=new Map;(function(){var e=t("./unicode-emoji-width-ranges.json");for(let t of e){for(let e=t.s;e<=t.e;e++){i.set(e,t.w)}}})();f.codePointWidth=e=>{if(f.isEmojiCodePoint(e)){return i.get(e)??2}if(e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)){return 2}if(f.isEmojiModifierCodePoint(e)||f.isZeroWidthDiacriticCodePoint(e)){return 0}return 1};f.isFullWidthCodePoint=e=>f.codePointWidth(e)===2;f.toFullWidth=e=>{return String.fromCodePoint(...Array.from(e,e=>{var t=e.codePointAt(0);return t>=33&&t<=126?65280+t-32:t}))};f.isZeroWidthDiacritic=e=>f.isZeroWidthDiacriticCodePoint(e.codePointAt(0));f.isZeroWidthDiacriticCodePoint=e=>768<=e&&e<=879||6832<=e&&e<=6911||7616<=e&&e<=7679||8400<=e&&e<=8447||65056<=e&&e<=65071||e===12441||e===12442||2304<=e&&e<=2307||2362<=e&&e<=2391&&e!==2365&&e!==2384||e===2402||e===2403||e===3633||3636<=e&&e<=3642||3655<=e&&e<=3662;f.isEmoji=e=>f.isEmojiCodePoint(e.codePointAt(0));f.isEmojiCodePoint=e=>9728<=e&&e<=9983||9984<=e&&e<=10175||126976<=e&&e<=127487||127744<=e&&e<=127994||128e3<=e&&e<=129791;f.isEmojiModifier=e=>f.isEmojiModifierCodePoint(e.codePointAt(0));f.isEmojiModifierCodePoint=e=>127995<=e&&e<=127999||e===65039},{"./unicode-emoji-width-ranges.json":5}],7:[function(e,t,r){"use strict";const i={};t.exports=i;const h="This would cause prototype pollution";i.op=function(e,t,r,i){var n,s,o,a,u,c=false,f=false,d,l=true;if(!t||typeof t!=="object"){return}if(typeof r==="string"){if(r){s=r.match(/([.#[\]]|[^.#[\]]+)/g)}else{s=[""]}if(s[0]==="."){s.unshift("")}if(s[s.length-1]==="."){s.push("")}}else if(Array.isArray(r)){s=r;f=true}else{throw new TypeError("[tree.path] ."+e+"(): the path argument should be a string or an array")}switch(e){case"get":case"delete":d=false;break;case"set":case"define":case"inc":case"dec":case"append":case"prepend":case"concat":case"insert":case"autoPush":d=true;break;default:throw new TypeError("[tree.path] .op(): wrong type of operation '"+e+"'")}a=t;o=s.length-1;for(n=0;n<=o;n++){if(f){if(u===undefined){u=s[n];if(typeof u==="object"||u==="__proto__"){throw new Error(h)}continue}if(typeof a[u]==="function"){throw new Error(h)}if(!a[u]||typeof a[u]!=="object"){if(!d){return undefined}a[u]={}}a=a[u];u=s[n];if(typeof u==="object"||u==="__proto__"){throw new Error(h)}continue}else if(s[n]==="."){c=false;if(u===undefined){if(!l){l=true;continue}u=""}if(typeof a[u]==="function"){throw new Error(h)}if(!a[u]||typeof a[u]!=="object"){if(!d){return undefined}a[u]={}}a=a[u];l=true;continue}else if(s[n]==="#"||s[n]==="["){c=true;l=false;if(u===undefined){if(!Array.isArray(a)){return undefined}continue}if(typeof a[u]==="function"){throw new Error(h)}if(!a[u]||!Array.isArray(a[u])){if(!d){return undefined}a[u]=[]}a=a[u];continue}else if(s[n]==="]"){l=false;continue}l=false;if(!c){u=s[n];if(typeof u==="object"||u==="__proto__"){throw new Error(h)}continue}switch(s[n]){case"length":u="length";break;case"first":u=0;break;case"last":u=a.length-1;if(u<0){u=0}break;case"next":if(!d){return undefined}u=a.length;break;case"insert":if(!d){return undefined}a.unshift(undefined);u=0;break;default:u=parseInt(s[n],10)}}switch(e){case"get":return a[u];case"delete":if(c&&typeof u==="number"){a.splice(u,1)}else{delete a[u]}return;case"set":a[u]=i;return a[u];case"define":if(!(u in a)){a[u]=i}return a[u];case"inc":if(typeof a[u]==="number"){a[u]++}else if(!a[u]||typeof a[u]!=="object"){a[u]=1}return a[u];case"dec":if(typeof a[u]==="number"){a[u]--}else if(!a[u]||typeof a[u]!=="object"){a[u]=-1}return a[u];case"append":if(!a[u]){a[u]=[i]}else if(Array.isArray(a[u])){a[u].push(i)}return a[u];case"prepend":if(!a[u]){a[u]=[i]}else if(Array.isArray(a[u])){a[u].unshift(i)}return a[u];case"concat":if(!a[u]){a[u]=i}else if(Array.isArray(a[u])&&Array.isArray(i)){a[u]=a[u].concat(i)}return a[u];case"insert":if(!a[u]){a[u]=i}else if(Array.isArray(a[u])&&Array.isArray(i)){a[u]=i.concat(a[u])}return a[u];case"autoPush":if(a[u]===undefined){a[u]=i}else if(Array.isArray(a[u])){a[u].push(i)}else{a[u]=[a[u],i]}return a[u]}};i.get=i.op.bind(undefined,"get");i.delete=i.op.bind(undefined,"delete");i.set=i.op.bind(undefined,"set");i.define=i.op.bind(undefined,"define");i.inc=i.op.bind(undefined,"inc");i.dec=i.op.bind(undefined,"dec");i.append=i.op.bind(undefined,"append");i.prepend=i.op.bind(undefined,"prepend");i.concat=i.op.bind(undefined,"concat");i.insert=i.op.bind(undefined,"insert");i.autoPush=i.op.bind(undefined,"autoPush");i.prototype={get:function(e){return i.get(this,e)},delete:function(e){return i.delete(this,e)},set:function(e,t){return i.set(this,e,t)},define:function(e,t){return i.define(this,e,t)},inc:function(e,t){return i.inc(this,e,t)},dec:function(e,t){return i.dec(this,e,t)},append:function(e,t){return i.append(this,e,t)},prepend:function(e,t){return i.prepend(this,e,t)},concat:function(e,t){return i.concat(this,e,t)},insert:function(e,t){return i.insert(this,e,t)},autoPush:function(e,t){return i.autoPush(this,e,t)}};i.upgrade=function(e){Object.defineProperties(e,{get:{value:i.op.bind(undefined,"get",e)},delete:{value:i.op.bind(undefined,"delete",e)},set:{value:i.op.bind(undefined,"set",e)},define:{value:i.op.bind(undefined,"define",e)},inc:{value:i.op.bind(undefined,"inc",e)},dec:{value:i.op.bind(undefined,"dec",e)},append:{value:i.op.bind(undefined,"append",e)},prepend:{value:i.op.bind(undefined,"prepend",e)},concat:{value:i.op.bind(undefined,"concat",e)},insert:{value:i.op.bind(undefined,"insert",e)},autoPush:{value:i.op.bind(undefined,"autoPush",e)}})}},{}]},{},[1])(1)});